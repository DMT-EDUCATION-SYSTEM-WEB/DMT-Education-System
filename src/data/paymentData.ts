import { PaymentTransaction } from '../types';

// Mock data cho tính năng thanh toán
export const mockPayments: PaymentTransaction[] = [
  {
    id: 'PMT-23001',
    date: '2023-08-15',
    studentId: 'STU-1001',
    studentName: 'Nguyễn Văn An',
    courseId: 'CRS-2001',
    courseName: 'Tiếng Anh nâng cao',
    amount: 4500000,
    status: 'completed',
    paymentMethod: 'bank_transfer',
    description: 'Thanh toán học phí kỳ 1 khóa Tiếng Anh nâng cao',
    receiptNumber: 'R-2308-001',
    createdBy: 'admin',
    createdAt: new Date('2023-08-15T09:30:00'),
  },
  {
    id: 'PMT-23002',
    date: '2023-08-17',
    studentId: 'STU-1002',
    studentName: 'Trần Thị Bình',
    courseId: 'CRS-2003',
    courseName: 'Luyện thi IELTS',
    amount: 7800000,
    status: 'completed',
    paymentMethod: 'cash',
    description: 'Thanh toán học phí đầy đủ khóa Luyện thi IELTS',
    receiptNumber: 'R-2308-002',
    createdBy: 'admin',
    createdAt: new Date('2023-08-17T14:20:00'),
  },
  {
    id: 'PMT-23003',
    date: '2023-08-20',
    studentId: 'STU-1003',
    studentName: 'Lê Văn Cường',
    courseId: 'CRS-2002',
    courseName: 'Tiếng Anh giao tiếp',
    amount: 3200000,
    status: 'completed',
    paymentMethod: 'e_wallet',
    description: 'Thanh toán học phí khóa Tiếng Anh giao tiếp qua MoMo',
    receiptNumber: 'R-2308-003',
    createdBy: 'staff-001',
    createdAt: new Date('2023-08-20T10:15:00'),
  },
  {
    id: 'PMT-23004',
    date: '2023-09-05',
    studentId: 'STU-1004',
    studentName: 'Phạm Thị Diệu',
    courseId: 'CRS-2004',
    courseName: 'Tiếng Anh cho trẻ em',
    amount: 2500000,
    status: 'pending',
    paymentMethod: 'bank_transfer',
    description: 'Đặt cọc học phí khóa Tiếng Anh cho trẻ em',
    createdBy: 'staff-002',
    createdAt: new Date('2023-09-05T16:30:00'),
  },
  {
    id: 'PMT-23005',
    date: '2023-09-10',
    studentId: 'STU-1005',
    studentName: 'Hoàng Văn Em',
    courseId: 'CRS-2001',
    courseName: 'Tiếng Anh nâng cao',
    amount: 4500000,
    status: 'failed',
    paymentMethod: 'credit_card',
    description: 'Thanh toán học phí qua thẻ - Giao dịch thất bại',
    createdBy: 'admin',
    createdAt: new Date('2023-09-10T11:20:00'),
  },
  {
    id: 'PMT-23006',
    date: '2023-09-15',
    studentId: 'STU-1006',
    studentName: 'Trịnh Văn Giáp',
    courseId: 'CRS-2005',
    courseName: 'Luyện thi TOEIC',
    amount: 5200000,
    status: 'completed',
    paymentMethod: 'cash',
    description: 'Thanh toán học phí đầy đủ khóa Luyện thi TOEIC',
    receiptNumber: 'R-2309-006',
    createdBy: 'staff-001',
    createdAt: new Date('2023-09-15T09:00:00'),
  },
  {
    id: 'PMT-23007',
    date: '2023-09-22',
    studentId: 'STU-1007',
    studentName: 'Mai Thị Hương',
    courseId: 'CRS-2006',
    courseName: 'Tiếng Anh thương mại',
    amount: 6000000,
    status: 'completed',
    paymentMethod: 'bank_transfer',
    description: 'Thanh toán học phí khóa Tiếng Anh thương mại',
    receiptNumber: 'R-2309-007',
    createdBy: 'admin',
    createdAt: new Date('2023-09-22T13:45:00'),
  },
  {
    id: 'PMT-23008',
    date: '2023-10-01',
    studentId: 'STU-1003',
    studentName: 'Lê Văn Cường',
    courseId: 'CRS-2007',
    courseName: 'Tiếng Anh học thuật',
    amount: 4800000,
    status: 'refunded',
    paymentMethod: 'credit_card',
    description: 'Hoàn học phí do hủy đăng ký khóa học',
    paymentDetails: 'Refund to card ending 4321',
    receiptNumber: 'R-2310-008',
    createdBy: 'admin',
    createdAt: new Date('2023-10-01T15:30:00'),
    updatedAt: new Date('2023-10-05T10:15:00'),
  },
  {
    id: 'PMT-23009',
    date: '2023-10-08',
    studentId: 'STU-1008',
    studentName: 'Ngô Thị Lan',
    courseId: 'CRS-2003',
    courseName: 'Luyện thi IELTS',
    amount: 7800000,
    status: 'pending',
    paymentMethod: 'bank_transfer',
    description: 'Chờ xác nhận thanh toán học phí Luyện thi IELTS',
    createdBy: 'staff-002',
    createdAt: new Date('2023-10-08T16:00:00'),
  },
  {
    id: 'PMT-23010',
    date: '2023-10-12',
    studentId: 'STU-1009',
    studentName: 'Vũ Mạnh Hùng',
    courseId: 'CRS-2008',
    courseName: 'Tiếng Anh chuyên ngành IT',
    amount: 5500000,
    status: 'completed',
    paymentMethod: 'e_wallet',
    description: 'Thanh toán học phí khóa Tiếng Anh chuyên ngành IT qua ZaloPay',
    receiptNumber: 'R-2310-010',
    createdBy: 'staff-001',
    createdAt: new Date('2023-10-12T10:30:00'),
  },
  {
    id: 'PMT-23011',
    date: '2023-10-15',
    studentId: 'STU-1010',
    studentName: 'Đỗ Thị Minh',
    courseId: 'CRS-2005',
    courseName: 'Luyện thi TOEIC',
    amount: 5200000,
    status: 'completed',
    paymentMethod: 'cash',
    description: 'Thanh toán học phí khóa Luyện thi TOEIC',
    receiptNumber: 'R-2310-011',
    createdBy: 'admin',
    createdAt: new Date('2023-10-15T11:20:00'),
  },
  {
    id: 'PMT-23012',
    date: '2023-10-20',
    studentId: 'STU-1011',
    studentName: 'Lưu Thành Nam',
    courseId: 'CRS-2001',
    courseName: 'Tiếng Anh nâng cao',
    amount: 4500000,
    status: 'pending',
    paymentMethod: 'bank_transfer',
    description: 'Đặt cọc học phí khóa Tiếng Anh nâng cao',
    createdBy: 'staff-002',
    createdAt: new Date('2023-10-20T14:00:00'),
  },
  {
    id: 'PMT-23013',
    date: '2023-10-25',
    studentId: 'STU-1012',
    studentName: 'Dương Thị Oanh',
    courseId: 'CRS-2006',
    courseName: 'Tiếng Anh thương mại',
    amount: 6000000,
    status: 'failed',
    paymentMethod: 'e_wallet',
    description: 'Thanh toán học phí qua ví MoMo - Giao dịch thất bại',
    createdBy: 'admin',
    createdAt: new Date('2023-10-25T09:45:00'),
  },
  {
    id: 'PMT-23014',
    date: '2023-10-28',
    studentId: 'STU-1013',
    studentName: 'Trương Văn Phong',
    courseId: 'CRS-2002',
    courseName: 'Tiếng Anh giao tiếp',
    amount: 3200000,
    status: 'completed',
    paymentMethod: 'cash',
    description: 'Thanh toán học phí khóa Tiếng Anh giao tiếp',
    receiptNumber: 'R-2310-014',
    createdBy: 'staff-001',
    createdAt: new Date('2023-10-28T13:30:00'),
  },
  {
    id: 'PMT-23015',
    date: '2023-11-02',
    studentId: 'STU-1014',
    studentName: 'Lâm Quang',
    courseId: 'CRS-2004',
    courseName: 'Tiếng Anh cho trẻ em',
    amount: 2500000,
    status: 'completed',
    paymentMethod: 'credit_card',
    description: 'Thanh toán học phí khóa Tiếng Anh cho trẻ em qua thẻ tín dụng',
    receiptNumber: 'R-2311-015',
    createdBy: 'admin',
    createdAt: new Date('2023-11-02T10:15:00'),
  },
];

// Mock functions for API calls
export const getPayments = async () => {
  // Simulate API delay
  await new Promise(resolve => setTimeout(resolve, 800));
  return [...mockPayments];
};

export const getPayment = async (id: string) => {
  // Simulate API delay
  await new Promise(resolve => setTimeout(resolve, 300));
  const payment = mockPayments.find(p => p.id === id);
  if (!payment) {
    throw new Error('Payment not found');
  }
  return { ...payment };
};

export default {
  getPayments,
  getPayment,
};
